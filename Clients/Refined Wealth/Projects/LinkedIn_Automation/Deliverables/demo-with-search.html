<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkedIn Prospect Finder & Message Generator | Refined Wealth</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #0f4c5c 0%, #1a7a8a 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
        }

        .header {
            background: white;
            padding: 30px 40px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 25px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        .header h1 {
            color: #0f4c5c;
            font-size: 2.2rem;
            margin-bottom: 8px;
        }

        .header p {
            color: #666;
            font-size: 1.05rem;
        }

        /* Tab Navigation */
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
        }

        .tab-btn {
            flex: 1;
            padding: 18px 30px;
            background: rgba(255,255,255,0.15);
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 12px;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .tab-btn:hover {
            background: rgba(255,255,255,0.25);
        }

        .tab-btn.active {
            background: white;
            color: #0f4c5c;
            border-color: white;
        }

        .tab-btn .step-num {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            width: 28px;
            height: 28px;
            line-height: 28px;
            border-radius: 50%;
            margin-right: 10px;
            font-size: 0.9rem;
        }

        .tab-btn.active .step-num {
            background: #0f4c5c;
            color: white;
        }

        /* Tab Content */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Search Panel */
        .search-panel {
            background: white;
            padding: 35px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        .search-panel h2 {
            color: #0f4c5c;
            margin-bottom: 25px;
            font-size: 1.5rem;
        }

        .criteria-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .criteria-group {
            background: #f8fafc;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #e2e8f0;
        }

        .criteria-group h3 {
            color: #0f4c5c;
            font-size: 1rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .checkbox-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .checkbox-list label {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 6px;
            transition: background 0.2s;
        }

        .checkbox-list label:hover {
            background: #e2e8f0;
        }

        .checkbox-list input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: #1a7a8a;
        }

        .range-inputs {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .range-inputs input {
            width: 80px;
            padding: 10px;
            border: 2px solid #e2e8f0;
            border-radius: 6px;
            font-size: 1rem;
            text-align: center;
        }

        .range-inputs input:focus {
            outline: none;
            border-color: #1a7a8a;
        }

        .search-btn {
            background: linear-gradient(135deg, #1a7a8a 0%, #0f4c5c 100%);
            color: white;
            border: none;
            padding: 18px 50px;
            font-size: 1.2rem;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(26, 122, 138, 0.3);
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(26, 122, 138, 0.4);
        }

        .search-btn:disabled {
            background: #94a3b8;
            cursor: not-allowed;
            transform: none;
        }

        /* Results Panel */
        .results-panel {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            display: none;
        }

        .results-panel.active {
            display: block;
        }

        .results-header {
            background: #f8fafc;
            padding: 20px 30px;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .results-header h3 {
            color: #0f4c5c;
            font-size: 1.3rem;
        }

        .results-count {
            background: #0f4c5c;
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .prospect-list {
            max-height: 600px;
            overflow-y: auto;
        }

        .prospect-card {
            display: grid;
            grid-template-columns: auto 1fr auto auto;
            gap: 20px;
            align-items: center;
            padding: 20px 30px;
            border-bottom: 1px solid #f1f5f9;
            transition: background 0.2s;
        }

        .prospect-card:hover {
            background: #f8fafc;
        }

        .prospect-score {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.1rem;
            color: white;
        }

        .score-high { background: linear-gradient(135deg, #10b981, #059669); }
        .score-medium { background: linear-gradient(135deg, #f59e0b, #d97706); }
        .score-low { background: linear-gradient(135deg, #6b7280, #4b5563); }

        .prospect-info h4 {
            color: #0f4c5c;
            font-size: 1.1rem;
            margin-bottom: 4px;
        }

        .prospect-info p {
            color: #64748b;
            font-size: 0.95rem;
        }

        .prospect-details {
            display: flex;
            flex-direction: column;
            gap: 4px;
            color: #64748b;
            font-size: 0.85rem;
            text-align: right;
        }

        .prospect-details span {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 6px;
        }

        .generate-msg-btn {
            background: linear-gradient(135deg, #1a7a8a 0%, #0f4c5c 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .generate-msg-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(26, 122, 138, 0.3);
        }

        /* Message Generator Panel (Tab 2) */
        .demo-form {
            background: white;
            padding: 35px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        .auto-filled-notice {
            background: #ecfdf5;
            border: 1px solid #10b981;
            border-radius: 10px;
            padding: 15px 20px;
            margin-bottom: 25px;
            display: none;
            align-items: center;
            gap: 12px;
        }

        .auto-filled-notice.active {
            display: flex;
        }

        .auto-filled-notice span {
            color: #059669;
            font-weight: 600;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 0;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-group label {
            display: block;
            color: #0f4c5c;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.95rem;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #1a7a8a;
        }

        .form-group input.auto-filled,
        .form-group textarea.auto-filled {
            background: #ecfdf5;
            border-color: #10b981;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .generate-btn {
            background: linear-gradient(135deg, #1a7a8a 0%, #0f4c5c 100%);
            color: white;
            border: none;
            padding: 18px 50px;
            font-size: 1.2rem;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(26, 122, 138, 0.3);
            margin-top: 20px;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(26, 122, 138, 0.4);
        }

        .generate-btn:disabled {
            background: #94a3b8;
            cursor: not-allowed;
            transform: none;
        }

        /* Loading State */
        .loading {
            text-align: center;
            padding: 50px;
            background: white;
            border-radius: 15px;
            margin-bottom: 25px;
            display: none;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        .loading.active {
            display: block;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #1a7a8a;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Message Results */
        .message-results {
            display: none;
        }

        .message-results.active {
            display: block;
        }

        .message-option {
            background: white;
            padding: 25px 30px;
            border-radius: 12px;
            margin-bottom: 20px;
            border-left: 6px solid #1a7a8a;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .message-option:nth-child(2) { border-left-color: #10b981; }
        .message-option:nth-child(3) { border-left-color: #f59e0b; }

        .message-option h3 {
            color: #0f4c5c;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        .message-option p {
            color: #333;
            line-height: 1.8;
            font-size: 1rem;
            white-space: pre-wrap;
        }

        .message-option .meta {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid #e2e8f0;
            color: #64748b;
            font-size: 0.85rem;
        }

        .copy-btn {
            background: #10b981;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 10px;
            transition: all 0.3s;
            font-weight: 600;
        }

        .copy-btn:hover {
            background: #059669;
            transform: translateY(-1px);
        }

        .copy-btn.copied {
            background: #0f4c5c;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 { font-size: 1.8rem; }
            .tabs { flex-direction: column; }
            .prospect-card {
                grid-template-columns: auto 1fr;
                gap: 15px;
            }
            .prospect-details { display: none; }
            .generate-msg-btn {
                grid-column: 1 / -1;
                margin-top: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ LinkedIn Prospect Finder</h1>
            <p>AI-Powered Lead Discovery & Message Generation for Refined Wealth</p>
        </div>

        <!-- Tab Navigation -->
        <div class="tabs">
            <button class="tab-btn active" data-tab="search">
                <span class="step-num">1</span> Find Prospects
            </button>
            <button class="tab-btn" data-tab="message">
                <span class="step-num">2</span> Generate Messages
            </button>
        </div>

        <!-- Tab 1: Find Prospects -->
        <div class="tab-content active" id="tab-search">
            <div class="search-panel">
                <h2>üîç Search Criteria</h2>
                <form id="searchForm">
                    <div class="criteria-grid">
                        <div class="criteria-group">
                            <h3>üè¢ Target Companies</h3>
                            <div class="checkbox-list">
                                <label><input type="checkbox" name="company" value="Chevron" checked> Chevron</label>
                                <label><input type="checkbox" name="company" value="Marathon Petroleum" checked> Marathon Petroleum</label>
                                <label><input type="checkbox" name="company" value="HF Sinclair" checked> HF Sinclair</label>
                            </div>
                        </div>

                        <div class="criteria-group">
                            <h3>üíº Job Titles</h3>
                            <div class="checkbox-list">
                                <label><input type="checkbox" name="title" value="Engineer" checked> Engineer</label>
                                <label><input type="checkbox" name="title" value="Manager" checked> Manager</label>
                                <label><input type="checkbox" name="title" value="Supervisor" checked> Supervisor</label>
                                <label><input type="checkbox" name="title" value="Director" checked> Director</label>
                            </div>
                        </div>

                        <div class="criteria-group">
                            <h3>üìç Location</h3>
                            <div class="checkbox-list">
                                <label><input type="checkbox" name="location" value="Utah" checked> Utah</label>
                                <label><input type="checkbox" name="location" value="Texas"> Texas</label>
                                <label><input type="checkbox" name="location" value="California"> California</label>
                                <label><input type="checkbox" name="location" value="Colorado"> Colorado</label>
                            </div>
                        </div>

                        <div class="criteria-group">
                            <h3>‚è≥ Years of Service</h3>
                            <div class="range-inputs">
                                <input type="number" id="minYears" value="10" min="0" max="50">
                                <span style="color: #64748b;">to</span>
                                <input type="number" id="maxYears" value="35" min="0" max="50">
                                <span style="color: #64748b;">years</span>
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="search-btn" id="searchBtn">
                        üöÄ Find 20 Prospects
                    </button>
                </form>
            </div>

            <div class="loading" id="searchLoading">
                <div class="spinner"></div>
                <p style="color: #0f4c5c; font-size: 1.1rem; font-weight: 600;">Searching LinkedIn for matching prospects...</p>
                <p style="color: #64748b; font-size: 0.95rem; margin-top: 8px;">Analyzing profiles and calculating fit scores</p>
            </div>

            <div class="results-panel" id="resultsPanel">
                <div class="results-header">
                    <h3>üìã Prospect Results</h3>
                    <span class="results-count" id="resultsCount">20 prospects found</span>
                </div>
                <div class="prospect-list" id="prospectList">
                    <!-- Prospects will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Tab 2: Generate Messages -->
        <div class="tab-content" id="tab-message">
            <div class="demo-form">
                <div class="auto-filled-notice" id="autoFilledNotice">
                    <span>‚úÖ Form auto-filled from selected prospect</span>
                </div>

                <form id="messageForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="name">Prospect Name *</label>
                            <input type="text" id="name" required placeholder="e.g., Sarah Johnson">
                        </div>

                        <div class="form-group">
                            <label for="company">Company *</label>
                            <input type="text" id="company" required placeholder="e.g., Chevron">
                        </div>

                        <div class="form-group">
                            <label for="title">Job Title *</label>
                            <input type="text" id="title" required placeholder="e.g., Senior Process Engineer">
                        </div>

                        <div class="form-group">
                            <label for="years">Years of Service *</label>
                            <input type="text" id="years" required placeholder="e.g., 15">
                        </div>

                        <div class="form-group">
                            <label for="location">Location</label>
                            <input type="text" id="location" placeholder="e.g., Salt Lake City, UT">
                        </div>

                        <div class="form-group">
                            <label for="email">Email (if known)</label>
                            <input type="email" id="email" placeholder="e.g., sjohnson@chevron.com">
                        </div>

                        <div class="form-group full-width">
                            <label for="context">Additional Context (Optional)</label>
                            <textarea id="context" placeholder="e.g., Just connected on LinkedIn, commented on my post about retirement planning, approaching retirement age, etc."></textarea>
                        </div>
                    </div>

                    <button type="submit" class="generate-btn" id="generateBtn">
                        ‚úâÔ∏è Generate Personalized Messages
                    </button>
                </form>
            </div>

            <div class="loading" id="messageLoading">
                <div class="spinner"></div>
                <p style="color: #0f4c5c; font-size: 1.1rem; font-weight: 600;">ü§ñ Generating personalized messages in Matt's voice...</p>
                <p style="color: #64748b; font-size: 0.95rem; margin-top: 8px;">Creating 3 message options tailored to this prospect</p>
            </div>

            <div class="message-results" id="messageResults">
                <!-- Messages will be inserted here -->
            </div>
        </div>
    </div>

    <script>
        // =====================================================
        // MOCK PROSPECT DATA - 20 Realistic Oil & Gas Prospects
        // =====================================================
        const mockProspects = [
            {
                name: "Robert Thompson",
                title: "Plant Manager",
                company: "Marathon Petroleum",
                location: "Salt Lake City, UT",
                years: 28,
                email: "rthompson@marathonpetroleum.com",
                phone: "(801) 555-0142",
                linkedinUrl: "linkedin.com/in/robert-thompson-marathon",
                score: 9.8,
                reasoning: "Senior leadership, approaching retirement, Utah location, excellent tenure"
            },
            {
                name: "Sarah Chen",
                title: "Senior Process Engineer",
                company: "Chevron",
                location: "Salt Lake City, UT",
                years: 18,
                email: "schen@chevron.com",
                phone: "(801) 555-0198",
                linkedinUrl: "linkedin.com/in/sarah-chen-chevron",
                score: 9.5,
                reasoning: "Senior role, Chevron, Utah location, strong tenure"
            },
            {
                name: "Michael Davis",
                title: "Operations Director",
                company: "HF Sinclair",
                location: "Woods Cross, UT",
                years: 24,
                email: "mdavis@hfsinclair.com",
                phone: "(801) 555-0276",
                linkedinUrl: "linkedin.com/in/michael-davis-hfs",
                score: 9.4,
                reasoning: "Director level, excellent tenure, local Utah refinery"
            },
            {
                name: "Jennifer Martinez",
                title: "HSE Manager",
                company: "Marathon Petroleum",
                location: "Salt Lake City, UT",
                years: 15,
                email: "jmartinez@marathonpetroleum.com",
                phone: "(801) 555-0334",
                linkedinUrl: "linkedin.com/in/jennifer-martinez-hse",
                score: 9.2,
                reasoning: "Management role, good tenure, Utah location"
            },
            {
                name: "David Wilson",
                title: "Maintenance Supervisor",
                company: "Chevron",
                location: "Salt Lake City, UT",
                years: 22,
                email: "dwilson@chevron.com",
                phone: "(801) 555-0412",
                linkedinUrl: "linkedin.com/in/david-wilson-chevron",
                score: 9.1,
                reasoning: "Supervisory role, strong tenure, ideal company"
            },
            {
                name: "Lisa Anderson",
                title: "Senior Mechanical Engineer",
                company: "HF Sinclair",
                location: "Woods Cross, UT",
                years: 16,
                email: "landerson@hfsinclair.com",
                phone: "(801) 555-0489",
                linkedinUrl: "linkedin.com/in/lisa-anderson-engineer",
                score: 9.0,
                reasoning: "Senior engineer, solid tenure, local refinery"
            },
            {
                name: "James Taylor",
                title: "Refinery Manager",
                company: "Marathon Petroleum",
                location: "Salt Lake City, UT",
                years: 31,
                email: "jtaylor@marathonpetroleum.com",
                phone: "(801) 555-0523",
                linkedinUrl: "linkedin.com/in/james-taylor-refinery",
                score: 8.9,
                reasoning: "Executive role, near retirement, excellent tenure"
            },
            {
                name: "Amanda Brown",
                title: "Process Engineer",
                company: "Chevron",
                location: "Salt Lake City, UT",
                years: 12,
                email: "abrown@chevron.com",
                phone: "(801) 555-0598",
                linkedinUrl: "linkedin.com/in/amanda-brown-process",
                score: 8.8,
                reasoning: "Engineering role, good tenure, target company"
            },
            {
                name: "Christopher Lee",
                title: "Operations Manager",
                company: "HF Sinclair",
                location: "Woods Cross, UT",
                years: 19,
                email: "clee@hfsinclair.com",
                phone: "(801) 555-0654",
                linkedinUrl: "linkedin.com/in/christopher-lee-ops",
                score: 8.7,
                reasoning: "Management position, strong tenure, Utah location"
            },
            {
                name: "Michelle Garcia",
                title: "Project Engineer",
                company: "Marathon Petroleum",
                location: "Salt Lake City, UT",
                years: 14,
                email: "mgarcia@marathonpetroleum.com",
                phone: "(801) 555-0712",
                linkedinUrl: "linkedin.com/in/michelle-garcia-pm",
                score: 8.6,
                reasoning: "Engineering role, good tenure, target company"
            },
            {
                name: "Steven Harris",
                title: "Instrumentation Supervisor",
                company: "Chevron",
                location: "Salt Lake City, UT",
                years: 20,
                email: "sharris@chevron.com",
                phone: "(801) 555-0789",
                linkedinUrl: "linkedin.com/in/steven-harris-inst",
                score: 8.5,
                reasoning: "Supervisory role, excellent tenure, Chevron"
            },
            {
                name: "Karen White",
                title: "Environmental Engineer",
                company: "HF Sinclair",
                location: "Woods Cross, UT",
                years: 11,
                email: "kwhite@hfsinclair.com",
                phone: "(801) 555-0834",
                linkedinUrl: "linkedin.com/in/karen-white-env",
                score: 8.4,
                reasoning: "Engineering role, solid tenure, local company"
            },
            {
                name: "Daniel Johnson",
                title: "Turnaround Manager",
                company: "Marathon Petroleum",
                location: "Salt Lake City, UT",
                years: 17,
                email: "djohnson@marathonpetroleum.com",
                phone: "(801) 555-0901",
                linkedinUrl: "linkedin.com/in/daniel-johnson-tar",
                score: 8.3,
                reasoning: "Management role, good tenure, target company"
            },
            {
                name: "Rachel Miller",
                title: "Chemical Engineer",
                company: "Chevron",
                location: "Salt Lake City, UT",
                years: 13,
                email: "rmiller@chevron.com",
                phone: "(801) 555-0956",
                linkedinUrl: "linkedin.com/in/rachel-miller-chem",
                score: 8.2,
                reasoning: "Engineering role, decent tenure, ideal company"
            },
            {
                name: "Thomas Clark",
                title: "Safety Supervisor",
                company: "HF Sinclair",
                location: "Woods Cross, UT",
                years: 15,
                email: "tclark@hfsinclair.com",
                phone: "(801) 555-1023",
                linkedinUrl: "linkedin.com/in/thomas-clark-safety",
                score: 8.1,
                reasoning: "Supervisory role, good tenure, Utah location"
            },
            {
                name: "Nancy Robinson",
                title: "Reliability Engineer",
                company: "Marathon Petroleum",
                location: "Salt Lake City, UT",
                years: 10,
                email: "nrobinson@marathonpetroleum.com",
                phone: "(801) 555-1089",
                linkedinUrl: "linkedin.com/in/nancy-robinson-rel",
                score: 8.0,
                reasoning: "Engineering role, meets minimum tenure, target company"
            },
            {
                name: "Kevin Wright",
                title: "Electrical Supervisor",
                company: "Chevron",
                location: "Salt Lake City, UT",
                years: 21,
                email: "kwright@chevron.com",
                phone: "(801) 555-1145",
                linkedinUrl: "linkedin.com/in/kevin-wright-elec",
                score: 7.9,
                reasoning: "Supervisory role, excellent tenure, Chevron"
            },
            {
                name: "Patricia Lewis",
                title: "Quality Manager",
                company: "HF Sinclair",
                location: "Woods Cross, UT",
                years: 12,
                email: "plewis@hfsinclair.com",
                phone: "(801) 555-1201",
                linkedinUrl: "linkedin.com/in/patricia-lewis-qa",
                score: 7.8,
                reasoning: "Management role, solid tenure, local company"
            },
            {
                name: "Mark Thompson",
                title: "Control Systems Engineer",
                company: "Marathon Petroleum",
                location: "Salt Lake City, UT",
                years: 14,
                email: "mthompson@marathonpetroleum.com",
                phone: "(801) 555-1267",
                linkedinUrl: "linkedin.com/in/mark-thompson-controls",
                score: 7.7,
                reasoning: "Engineering role, good tenure, target company"
            },
            {
                name: "Elizabeth Hall",
                title: "Planning Engineer",
                company: "Chevron",
                location: "Salt Lake City, UT",
                years: 11,
                email: "ehall@chevron.com",
                phone: "(801) 555-1323",
                linkedinUrl: "linkedin.com/in/elizabeth-hall-plan",
                score: 7.6,
                reasoning: "Engineering role, decent tenure, ideal company"
            }
        ];

        // =====================================================
        // TAB NAVIGATION
        // =====================================================
        const tabBtns = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');

        tabBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const tabId = btn.dataset.tab;

                tabBtns.forEach(b => b.classList.remove('active'));
                tabContents.forEach(c => c.classList.remove('active'));

                btn.classList.add('active');
                document.getElementById(`tab-${tabId}`).classList.add('active');
            });
        });

        function switchToTab(tabId) {
            tabBtns.forEach(b => b.classList.remove('active'));
            tabContents.forEach(c => c.classList.remove('active'));

            document.querySelector(`[data-tab="${tabId}"]`).classList.add('active');
            document.getElementById(`tab-${tabId}`).classList.add('active');
        }

        // =====================================================
        // PROSPECT SEARCH
        // =====================================================
        document.getElementById('searchForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            const searchBtn = document.getElementById('searchBtn');
            const loading = document.getElementById('searchLoading');
            const resultsPanel = document.getElementById('resultsPanel');

            searchBtn.disabled = true;
            loading.classList.add('active');
            resultsPanel.classList.remove('active');

            // Simulate search time
            await new Promise(resolve => setTimeout(resolve, 2500));

            // Filter prospects based on criteria
            const selectedCompanies = Array.from(document.querySelectorAll('input[name="company"]:checked')).map(cb => cb.value);
            const selectedLocations = Array.from(document.querySelectorAll('input[name="location"]:checked')).map(cb => cb.value);
            const minYears = parseInt(document.getElementById('minYears').value) || 0;
            const maxYears = parseInt(document.getElementById('maxYears').value) || 50;

            // Map state names to abbreviations for matching
            const stateMap = {
                'Utah': 'UT',
                'Texas': 'TX',
                'California': 'CA',
                'Colorado': 'CO'
            };

            let filteredProspects = mockProspects.filter(p => {
                const companyMatch = selectedCompanies.length === 0 || selectedCompanies.includes(p.company);
                const locationMatch = selectedLocations.length === 0 || selectedLocations.some(loc => {
                    const abbrev = stateMap[loc] || loc;
                    return p.location.includes(loc) || p.location.includes(abbrev);
                });
                const yearsMatch = p.years >= minYears && p.years <= maxYears;
                return companyMatch && locationMatch && yearsMatch;
            });

            // Sort by score
            filteredProspects.sort((a, b) => b.score - a.score);

            displayProspects(filteredProspects);

            loading.classList.remove('active');
            resultsPanel.classList.add('active');
            searchBtn.disabled = false;

            document.getElementById('resultsCount').textContent = `${filteredProspects.length} prospects found`;
        });

        function displayProspects(prospects) {
            const listEl = document.getElementById('prospectList');

            listEl.innerHTML = prospects.map((p, index) => {
                const scoreClass = p.score >= 9 ? 'score-high' : p.score >= 8 ? 'score-medium' : 'score-low';

                return `
                    <div class="prospect-card">
                        <div class="prospect-score ${scoreClass}">${p.score}</div>
                        <div class="prospect-info">
                            <h4>${p.name}</h4>
                            <p>${p.title} at ${p.company}</p>
                            <p style="font-size: 0.85rem; color: #94a3b8; margin-top: 4px;">${p.reasoning}</p>
                        </div>
                        <div class="prospect-details">
                            <span>üìç ${p.location}</span>
                            <span>‚è≥ ${p.years} years</span>
                            <span>üìß ${p.email}</span>
                        </div>
                        <button class="generate-msg-btn" onclick="selectProspect(${index})">
                            ‚úâÔ∏è Generate Message
                        </button>
                    </div>
                `;
            }).join('');

            // Store for selection
            window.currentProspects = prospects;
        }

        // =====================================================
        // SELECT PROSPECT & AUTO-FILL
        // =====================================================
        function selectProspect(index) {
            const prospect = window.currentProspects[index];

            // Switch to message tab
            switchToTab('message');

            // Auto-fill form
            document.getElementById('name').value = prospect.name;
            document.getElementById('company').value = prospect.company;
            document.getElementById('title').value = prospect.title;
            document.getElementById('years').value = prospect.years;
            document.getElementById('location').value = prospect.location;
            document.getElementById('email').value = prospect.email || '';
            document.getElementById('context').value = `${prospect.reasoning}. LinkedIn: ${prospect.linkedinUrl}`;

            // Add auto-filled styling
            const inputs = document.querySelectorAll('#messageForm input, #messageForm textarea');
            inputs.forEach(input => {
                if (input.value) {
                    input.classList.add('auto-filled');
                }
            });

            // Show notice
            document.getElementById('autoFilledNotice').classList.add('active');

            // Clear message results
            document.getElementById('messageResults').classList.remove('active');

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Remove auto-filled styling on manual edit
        document.querySelectorAll('#messageForm input, #messageForm textarea').forEach(input => {
            input.addEventListener('input', () => {
                input.classList.remove('auto-filled');
            });
        });

        // =====================================================
        // MESSAGE GENERATION
        // =====================================================
        const messageTemplates = {
            generate: (name, company, title, years, context, location) => {
                const firstName = name.split(' ')[0];
                const isWarm = context.toLowerCase().includes('connected') ||
                              context.toLowerCase().includes('comment') ||
                              context.toLowerCase().includes('post');
                const isNearRetirement = years >= 25;

                if (isNearRetirement) {
                    return [
                        `Hi ${firstName},\n\nI noticed your impressive ${years}-year career at ${company}‚Äîthat's quite an achievement in this industry. With that kind of tenure, you've likely built up significant retirement assets that deserve careful attention.\n\nI specialize exclusively in helping oil & gas professionals like yourself navigate the transition from career to retirement. Would you be open to a brief conversation about optimizing your financial strategy for this next chapter?\n\nBest,\nMatt Williams\nRefined Wealth Management`,

                        `${firstName},\n\nAfter ${years} years as a ${title} at ${company}, you're in a unique position‚Äîone that most financial advisors don't fully understand. The equity compensation, pension options, and 401(k) decisions facing long-tenured oil & gas professionals are complex.\n\nI work exclusively with industry veterans in Utah and would love to share some insights specific to your situation. No pressure, just a quick call if you're interested.\n\nCheers,\nMatt`,

                        `Hey ${firstName},\n\nYour ${years} years at ${company} caught my attention. I help oil & gas professionals on the Wasatch Front protect and grow the wealth they've built over careers like yours.\n\nWith your experience level, there are some often-overlooked strategies for maximizing retirement benefits‚Äîhappy to share if you're curious. Would a 15-minute call work sometime?\n\nRegards,\nMatt Williams`
                    ];
                } else if (isWarm) {
                    return [
                        `Hi ${firstName},\n\nThanks for connecting! I work with ${company} professionals and others in the oil & gas sector on retirement and wealth strategies. With ${years} years in the industry, you probably have some specific financial planning needs‚ÄîI'd love to learn about your goals if you're ever open to a brief chat.\n\nBest,\nMatt`,

                        `${firstName},\n\nAppreciate you connecting! I saw you're a ${title} at ${company}‚Äîafter ${years} years, you're building serious long-term wealth. I specialize exclusively in helping oil & gas professionals optimize their financial strategies.\n\nWould you be open to a quick, pressure-free conversation sometime?\n\nCheers,\nMatt Williams`,

                        `Hey ${firstName},\n\nGreat to connect! I focus on retirement and wealth planning specifically for industry veterans like yourself. With your experience at ${company}, I'd love to understand your financial priorities and see if I can offer any insights.\n\nOpen to a brief call?\n\nRegards,\nMatt`
                    ];
                } else {
                    return [
                        `Hi ${firstName},\n\nI noticed your ${years}+ years at ${company} and wanted to reach out. I work exclusively with oil & gas professionals on retirement and wealth planning strategies.\n\nI'd love to learn more about your financial goals‚Äîwould you be open to a brief, no-pressure conversation sometime?\n\nBest,\nMatt Williams\nRefined Wealth Management`,

                        `${firstName},\n\nYour background as a ${title} at ${company} caught my attention. I specialize in helping industry veterans like yourself navigate the unique financial planning challenges in oil & gas.\n\nIf you're ever curious about optimizing your retirement strategy, I'd be happy to share some insights over a quick call.\n\nCheers,\nMatt`,

                        `Hey ${firstName},\n\nWith ${years} years at ${company}, you've built quite a career. I focus on financial planning specifically for oil & gas professionals‚Äîthe industry presents unique opportunities (and pitfalls) that most advisors miss.\n\nWould you be interested in connecting for a brief conversation about your financial roadmap?\n\nRegards,\nMatt Williams`
                    ];
                }
            }
        };

        document.getElementById('messageForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            const name = document.getElementById('name').value;
            const company = document.getElementById('company').value;
            const title = document.getElementById('title').value;
            const years = document.getElementById('years').value;
            const location = document.getElementById('location').value;
            const context = document.getElementById('context').value || '';

            const generateBtn = document.getElementById('generateBtn');
            const loading = document.getElementById('messageLoading');
            const results = document.getElementById('messageResults');

            generateBtn.disabled = true;
            loading.classList.add('active');
            results.classList.remove('active');

            // Simulate AI processing
            await new Promise(resolve => setTimeout(resolve, 3000));

            const messages = messageTemplates.generate(name, company, title, years, context, location);
            displayMessages(messages, name, company, title, years, location);

            loading.classList.remove('active');
            results.classList.add('active');
            generateBtn.disabled = false;

            results.scrollIntoView({ behavior: 'smooth', block: 'start' });
        });

        function displayMessages(messages, name, company, title, years, location) {
            const resultsEl = document.getElementById('messageResults');

            let html = `
                <div style="text-align: center; margin-bottom: 25px;">
                    <h2 style="color: white; font-size: 1.8rem; margin-bottom: 8px;">‚úâÔ∏è Messages for ${name}</h2>
                    <p style="color: rgba(255,255,255,0.9);">${title} at ${company} ‚Ä¢ ${years} years ‚Ä¢ ${location}</p>
                </div>
            `;

            messages.forEach((msg, index) => {
                const wordCount = msg.split(' ').length;
                html += `
                    <div class="message-option">
                        <h3>üìß Option ${index + 1}</h3>
                        <p>${msg}</p>
                        <div class="meta">
                            üí° ${wordCount} words ‚Ä¢ ${msg.length} characters
                        </div>
                        <button class="copy-btn" onclick="copyMessage(${index})" id="copyBtn${index}">
                            üìã Copy Message
                        </button>
                    </div>
                `;
            });

            resultsEl.innerHTML = html;
            window.generatedMessages = messages;
        }

        function copyMessage(index) {
            const message = window.generatedMessages[index];
            const btn = document.getElementById(`copyBtn${index}`);

            navigator.clipboard.writeText(message).then(() => {
                btn.textContent = '‚úÖ Copied!';
                btn.classList.add('copied');

                setTimeout(() => {
                    btn.textContent = 'üìã Copy Message';
                    btn.classList.remove('copied');
                }, 2000);
            });
        }

    </script>
</body>
</html>
